"use strict";(self.webpackChunkfig_doc=self.webpackChunkfig_doc||[]).push([[800],{1289:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>c,contentTitle:()=>i,default:()=>p,frontMatter:()=>s,metadata:()=>o,toc:()=>d});var n=t(4848),a=t(8453);const s={},i=void 0,o={id:"tutorial-advance/Server Application",title:"Server Application",description:"You can write server-side applications with FigLang, FigCli has a command called server That will listen to the address and port you specified,",source:"@site/docs/tutorial-advance/Server Application.md",sourceDirName:"tutorial-advance",slug:"/tutorial-advance/Server Application",permalink:"/book/docs/tutorial-advance/Server Application",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/tutorial-advance/Server Application.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Tutorial - Advance",permalink:"/book/docs/category/tutorial---advance"},next:{title:"Standard Library",permalink:"/book/docs/category/standard-library"}},c={},d=[{value:"Server command",id:"server-command",level:3},{value:"Example server-side code",id:"example-server-side-code",level:3}];function l(e){const r={code:"code",h3:"h3",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(r.p,{children:["You can write server-side applications with FigLang, FigCli has a command called ",(0,n.jsx)(r.code,{children:"server"})," That will listen to the address and port you specified,\neach time a request arrives the CLI will run the script and pass the HTTP request content to the main function."]}),"\n",(0,n.jsx)(r.h3,{id:"server-command",children:"Server command"}),"\n",(0,n.jsxs)(r.p,{children:["Here is an example usage of the ",(0,n.jsx)(r.code,{children:"server"})," command:"]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.code,{children:"fig server ./test.fig --addr localhost:8080"})}),"\n",(0,n.jsx)(r.h3,{id:"example-server-side-code",children:"Example server-side code"}),"\n",(0,n.jsxs)(r.p,{children:["Here is an example source code of using the server feature in FigCli, It's just like an ordinary Fig program but the main function will get one parameter, Which will contain the content of the HTTP request as ",(0,n.jsx)(r.code,{children:"char[]"})," or a string."]}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.code,{children:"test.fig"}),":"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-rust",children:'import server;\n\nexport fn main (req: char[]): char[] {\n    let headers = "Content-Type: text/html\nConnection: Closed";\n\n    let res = new_response("200", "OK", headers, "<h1>Hello World</h1>");\n\n    return res;\n}\n'})}),"\n",(0,n.jsxs)(r.p,{children:["The ",(0,n.jsx)(r.code,{children:"main"})," function must return the HTTP response as a ",(0,n.jsx)(r.code,{children:"char[]"})," or string. The return will be your app's response to the request."]})]})}function p(e={}){const{wrapper:r}={...(0,a.R)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}},8453:(e,r,t)=>{t.d(r,{R:()=>i,x:()=>o});var n=t(6540);const a={},s=n.createContext(a);function i(e){const r=n.useContext(s);return n.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function o(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),n.createElement(s.Provider,{value:r},e.children)}}}]);